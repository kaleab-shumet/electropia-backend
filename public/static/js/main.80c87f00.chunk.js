(this.webpackJsonpshemach=this.webpackJsonpshemach||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){},105:function(e,a,t){},106:function(e,a,t){},131:function(e,a){},149:function(e,a,t){},150:function(e,a,t){},151:function(e,a,t){},153:function(e,a,t){},154:function(e,a,t){},155:function(e,a,t){},156:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(18),l=t.n(r),o=(t(66),t(2)),s=t(1),i=t(9),u=t(3),m=(t(67),t(68),t(53)),d=function(e){return localStorage.setItem("ELECTROPIA_AUTHORIZATION_KEY_3489534",e)},p=t.n(m).a.create({baseURL:"https://electropia.herokuapp.com",headers:{Authorization:localStorage.getItem("ELECTROPIA_AUTHORIZATION_KEY_3489534")}}),g=t(6),E=t(8),f=t.n(E),h=function(e){return{type:"SET_PRODUCT",newProduct:e}},v=function(e){return{type:"SET_CATAGORY",newCatagory:e}},b=function(e){return{type:"SET_USER",newUser:e}},N=function(e){return{type:"SET_CART",newCart:e}};var O=Object(g.b)((function(e){return{products:e.products,catagories:e.catagories,user:e.user}}))((function(e){var a="",t=e.query;t&&(a=t.catagory);var r=Object(n.useState)(a),l=Object(u.a)(r,2),i=l[0],m=l[1],d=Object(n.useState)(),g=Object(u.a)(d,2),E=g[0],N=g[1],O=Object(n.useState)(),C=Object(u.a)(O,2),y=(C[0],C[1]);console.log("onNavLinkClick",e);var j=Object(s.f)();function k(){m(),N(""),p.get("/api").then((function(a){e.dispatch(h(a.data.products)),e.dispatch(v(a.data.catagories)),e.dispatch(b(a.data.user)),e.handlePageCount(a.data.totalpages)})).catch((function(e){}))}Object(n.useEffect)((function(){t&&t.search&&N(t.search)}),[]);var S=function(a){var t=a.target.id;N(),m(t),console.log("activetab",t),e.dispatch(h("Loading"));var n={catagory:t},c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return""===f.a.stringify(a)?e:e+"?"+f.a.stringify(a)}("/api",n);j.push("/?".concat(f.a.stringify(n))),p.get(c).then((function(a){e.dispatch(h(a.data.products)),e.handlePageCount(a.data.totalpages)})).catch((function(e){y(e)}))};return console.log("props_log",e),c.a.createElement("nav",{className:"nav-container"},c.a.createElement("div",{className:"header-nav"},c.a.createElement("div",{className:"header-nav-brand"},c.a.createElement("h1",null," ELECTROPIA ")),c.a.createElement("div",{className:"header-nav__search"},c.a.createElement("form",null,c.a.createElement("div",{className:"header-nav__div"},c.a.createElement("input",{type:"text",name:"search",placeholder:"Search Item",onChange:function(e){return N(e.target.value)},value:E}),c.a.createElement("button",{className:"clear-btn",onClick:k},c.a.createElement(o.c,{to:"/",onClick:k},c.a.createElement("span",{class:"fas fa-times"}))),c.a.createElement("button",{className:"search-btn",onClick:function(a){a.preventDefault(),m(),e.dispatch(h("Loading"));var t=f.a.stringify({search:E});j.push("/?".concat(t)),console.log("onSearchClicked",t),p.get("/api?".concat(t)).then((function(a){console.log("search resp",a.data),e.dispatch(h(a.data.products)),e.dispatch(v(a.data.catagories)),e.dispatch(b(a.data.user))})).catch((function(e){console.log("search error",e)}))}},c.a.createElement("i",{className:"fas fa-search"}))))),c.a.createElement("div",{className:"header-nav__links"},e.user.cart&&c.a.createElement("p",null,"Hello ",e.user.name,"! "),c.a.createElement(o.c,{to:"/",onClick:k},"Home"),c.a.createElement(o.c,{to:"/cart"},"Cart ",c.a.createElement("i",{className:"fas fa-shopping-cart"}),e.user.cart&&c.a.createElement("span",{className:"cart-num"},"(",e.user.cart.length,")")),e.user.cart?c.a.createElement("a",{onClick:function(e){e.preventDefault(),localStorage.removeItem("ELECTROPIA_AUTHORIZATION_KEY_3489534"),window.location="/"},href:"/"},"Sign Out"):c.a.createElement(o.c,{to:"/signin"},"Sign In"))),e.displayHorizontalNav&&c.a.createElement("div",{className:"horizontal-scrollable-contaner"},c.a.createElement("ul",{className:"horizontal-nav"},e.catagories.map((function(e){return console.log("activetab",{catagory:e,activeTab:i}),e._id===i?c.a.createElement("li",{className:"horizontal-nav-active",key:e._id,id:e._id,onClick:S},e.name):c.a.createElement("li",{className:"horizontal-nav-inactive-li",key:e._id,id:e._id,onClick:S},e.name)})))))}));t(103);function C(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,c=0;c<e;c++)a+=t.charAt(Math.floor(Math.random()*n));return a}var y=function(e){for(var a=[],t=0;t<5;t++)t<e.rating?a.push(c.a.createElement("span",{key:C(10),className:"fa fa-star checked"})):a.push(c.a.createElement("span",{key:C(10),className:"fa fa-star"}));return c.a.createElement("div",{className:"product"},c.a.createElement("img",{src:e.image,alt:""}),c.a.createElement("h5",null,c.a.createElement(o.b,{to:"/product/".concat(e._id)},e.title)),c.a.createElement("p",null,"Price: ",e.price," ETB"),c.a.createElement("div",null,a))},j=t(55),k=t.n(j);t(104);var S=function(){return c.a.createElement("div",{className:"progrss-bar-container"},c.a.createElement("div",{className:"lds-dual-ring"}))};t(105);var w=function(){return c.a.createElement("div",{className:"home-footer"},c.a.createElement("h3",null,"Developed BY: Kaleab Shumet"))};var T=Object(g.b)((function(e){return{products:e.products}}))((function(e){var a=Object(n.useState)(1),t=Object(u.a)(a,2),r=t[0],l=t[1],o=Object(n.useState)(0),m=Object(u.a)(o,2),d=m[0],g=m[1],E=Object(s.f)(),N=f.a.parse(e.location.search),C=c.a.createElement(O,{handlePageCount:function(e){l(e),console.log("setCurrentPage",d),g(0)},query:N,displayHorizontalNav:!0});function j(a){g(a.selected);var t=a.selected+1;e.dispatch(h("Loading"));var n=f.a.parse(e.location.search),c=Object(i.a)({},n,{page:t}),r=_("/api",c);E.push("/?".concat(f.a.stringify(c))),T(r)}function T(a){p.get(a).then((function(a){e.dispatch(h(a.data.products)),e.dispatch(v(a.data.catagories)),e.dispatch(b(a.data.user)),l(a.data.totalpages)})).catch((function(e){console.log("error",e.message)}))}function _(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return""===f.a.stringify(a)?e:e+"?"+f.a.stringify(a)}return Object(n.useEffect)((function(){!function(){N.page&&g(N.page-1);var e=_("/api",N);console.log({modifiedUrl:e}),T(e)}()}),[]),e.products?e.products.constructor===Array?e.products.length>0?c.a.createElement("div",null,C,c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"main-area"},c.a.createElement("div",{className:"products-container"},e.products.map((function(e,a){return c.a.createElement(y,Object.assign({key:a},e))})))))),c.a.createElement("div",{className:"pagination-container"},r>1&&c.a.createElement(k.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:r,marginPagesDisplayed:0,forcePage:d,pageRangeDisplayed:5,onPageChange:j,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})),c.a.createElement(w,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("h3",{class:"not-found"},"Item not found")):c.a.createElement("div",null,C,c.a.createElement(S,null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("p",null,"Error Occured!"))})),_=(t(106),t(56)),I=t.n(_);var A=Object(g.b)((function(e){return{products:e.products,catagories:e.catagories,user:e.user}}))((function(e){var a=e.match.params.productId,t=Object(n.useState)(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("getProductById",a);var t=a.filter((function(a){return a._id===e}));if(t)return t[0]}(a,e.products)),r=Object(u.a)(t,2),l=r[0],o=r[1],s=Object(n.useState)(),i=Object(u.a)(s,2),m=i[0],d=i[1],g=Object(n.useState)(e.user.name),E=Object(u.a)(g,2),f=E[0],v=E[1];function C(a){var t=a.target.id,n=a.target;n.disabled=!0,console.log({product:t}),p.post("/api/cart",{product:t}).then((function(a){e.dispatch(N(a.data))})).catch((function(e){})).finally((function(){n.disabled=!1}))}return l||function(a){var t="/api?product=".concat(a);p.get(t).then((function(a){if(console.log("search response",a.data.user),a.data.products){var t=a.data.products;if(!(t.length>0))throw new Error("No Product found!");console.log({incommingProducts:t}),o(t[0]),e.dispatch(b(a.data.user)),e.dispatch(h(a.data.products)),v(a.data.user.name),d({})}throw new Error("Empty products")})).catch((function(e){d(e)}))}(a),c.a.createElement(c.a.Fragment,null,l?c.a.createElement("div",null,c.a.createElement(O,null),c.a.createElement("div",{className:"product-main"},c.a.createElement("img",{className:"product-main-img",src:l.image,alt:""}),c.a.createElement("h4",{className:"product-main-h4"},l.title),c.a.createElement("h5",null,l.price),c.a.createElement("div",null,c.a.createElement("span",{className:"fa fa-star checked"}),c.a.createElement("span",{className:"fa fa-star checked"}),c.a.createElement("span",{className:"fa fa-star checked"}),c.a.createElement("span",{className:"fa fa-star checked"}),c.a.createElement("span",{className:"fa fa-star checked"})),c.a.createElement("button",{className:"product-main-button",id:l._id,onClick:C,disabled:!f},f?c.a.createElement(c.a.Fragment,null,"ADD TO CART"):c.a.createElement(c.a.Fragment,null,"You should log in")," "),l.description&&c.a.createElement("h5",null,"Description"),c.a.createElement("div",{className:"description"},I()(decodeURIComponent(l.description))))):m?c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("h3",{className:"notfound"},"NOT FOUND")):c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement(S,null))," ",c.a.createElement(w,null))}));t(149),t(150);var P=function(){var e=Object(n.useState)(),a=Object(u.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({}),s=Object(u.a)(l,2),m=s[0],g=s[1];function E(e){var a={};return a[e.target.name]=e.target.value,g(Object(i.a)({},m,{},a))}return c.a.createElement("div",{className:"signin"},c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"signin-container-header"},c.a.createElement("h3",null,"ELECTROPIA")),c.a.createElement("div",{className:"signin-container-signin"},c.a.createElement("h3",null,"Sign In"),t&&c.a.createElement("h5",{className:"signin-container-error"},t)),c.a.createElement("form",{className:"signin-form",onSubmit:function(e){e.preventDefault(),console.log("handleFormSubmit",m),p.post("/api/user/signin",m).then((function(e){var a=e.data.accessToken;d("Bearer ".concat(a)),window.location="/"})).catch((function(e){console.log(e),r(e.message)}))}},c.a.createElement("div",{className:"signin-form-part"},c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{className:"signin-form-text-input",name:"email",onChange:E})),c.a.createElement("div",{className:"signin-form-part"},c.a.createElement("label",{htmlFor:"password"},"Password"),c.a.createElement("input",{className:"signin-form-text-input",name:"password",onChange:E})),c.a.createElement("div",{className:"signin-form-part"},c.a.createElement("button",null,"Log In")),c.a.createElement("div",{className:"signin-form-part"},c.a.createElement("p",null,"Don't you have an account ? ",c.a.createElement("br",null),"Please click ",c.a.createElement(o.b,{to:"/signup"},"Sign Up"),".")))))};t(151);var R=function(){var e=Object(n.useState)(),a=Object(u.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({}),s=Object(u.a)(l,2),m=s[0],g=s[1];function E(e){var a={};return a[e.target.name]=e.target.value,g(Object(i.a)({},m,{},a))}return c.a.createElement("div",{className:"signup"},c.a.createElement("div",{className:"form-container"},c.a.createElement("div",{className:"signup-container-header"},c.a.createElement("h3",null,"ELECTROPIA")),c.a.createElement("div",{className:"signup-container-signup"},c.a.createElement("h3",null,"Create an Account"),t&&c.a.createElement("h5",null,t)),c.a.createElement("form",{className:"signup-form",onSubmit:function(e){e.preventDefault(),console.log("handleFormSubmit",m),p.post("/api/user/signup",m).then((function(e){var a=e.data.accessToken;d("Bearer ".concat(a)),window.location="/"})).catch((function(e){console.log(e),r(e.message)}))}},c.a.createElement("div",{className:"signup-form-part"},c.a.createElement("label",{htmlFor:"name"},"Name"),c.a.createElement("input",{className:"signup-form-text-input",name:"name",onChange:E})),c.a.createElement("div",{className:"signup-form-part"},c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{className:"signup-form-text-input",name:"email",onChange:E})),c.a.createElement("div",{className:"signup-form-part"},c.a.createElement("label",{htmlFor:"password"},"Password"),c.a.createElement("input",{className:"signup-form-text-input",name:"password",onChange:E})),c.a.createElement("div",{className:"signup-form-part"},c.a.createElement("button",null,"Create Account")),c.a.createElement("div",{className:"signup-form-part"},c.a.createElement("p",null,"Do you have an account ? ",c.a.createElement("br",null),"Please click ",c.a.createElement(o.b,{to:"/signin"},"Sign In"),".")))))},D=t(28),L=t.n(D),F=t(57);t(153);var U=Object(g.b)((function(e){return{user:e.user}}))((function(e){return c.a.createElement("div",{className:"cart-container-item"},c.a.createElement("img",{className:"cart-container-item-image",src:e.image,alt:"cant load image"}),c.a.createElement("div",{className:"cart-container-item-detail"},c.a.createElement(o.b,{className:"cart-container-item-title"},e.title),c.a.createElement("button",{name:e.name,className:"cart-container-button-remove-item",onClick:function(a){var t=a.target;t.disabled=!0;var n=a.target.name;p.delete("/api/cart/".concat(n)).then((function(a){console.log("newCartFromCartItem",a.data),e.dispatch(N(a.data))})).catch((function(e){})).finally((function(){t.disabled=!1}))}},"Remove")))}));t(154);var x=Object(g.b)((function(e){return{products:e.products,catagories:e.catagories,user:e.user}}))((function(e){function a(){return(a=Object(F.a)(L.a.mark((function a(){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.get("/api");case 3:t=a.sent.data,console.log("productData",t),console.log("getProductAndUpdate",t),e.dispatch(b(t.user)),e.dispatch(h(t.products)),e.dispatch(v(t.catagories)),a.next=13;break;case 11:a.prev=11,a.t0=a.catch(0);case 13:case"end":return a.stop()}}),a,null,[[0,11]])})))).apply(this,arguments)}function t(){e.user.cart||function(){return a.apply(this,arguments)}().then()}return Object(n.useEffect)((function(){console.log("Cart UseEffect",e.user),t()}),[]),console.log("cart_props_logs",e),c.a.createElement("div",{className:"cart"},c.a.createElement(O,null),e.user.cart?e.user.cart.length>0?c.a.createElement("div",{className:"cart-container"},c.a.createElement("h3",{className:"list-item-text"},"List of items in your cart"),c.a.createElement("div",{className:"cart-container-list"},e.user.cart.map((function(e,a){return console.log({cartItem:e}),c.a.createElement(U,Object.assign({},e,{key:"".concat(e._id,"-").concat(a),name:a}))}))),c.a.createElement("button",{className:"process-check-out"},"Proccess Check Out")):c.a.createElement("h4",{className:"cart-message"},"No Items in the Cart"):c.a.createElement("h4",{className:"cart-message"},"You should login to access the cart"),c.a.createElement(w,null))}));t(155);var M=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"About the developer"),c.a.createElement("p",null,"I am KALEAB SHUMET, I am a software developer, who developed various web applications, mobile games, mobile applications and desktop applications."),c.a.createElement("p",null,"I develop web applications using ( React ) for frontend and ( Node JS, MySQL , MongoDb ) for the backend."),c.a.createElement("p",null,"This site is as showcase that i built previously using MongoDb, Express, React, Node JS (MERN stack)."),c.a.createElement("p",null,"Also you can checkout other mobile apps and games that i built by the following link."))};var B=function(){return c.a.createElement(o.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/product/:productId",component:A}),c.a.createElement(s.a,{path:"/cart",component:x}),c.a.createElement(s.a,{path:"/signin",component:P}),c.a.createElement(s.a,{path:"/signup",component:R}),c.a.createElement(s.a,{path:"/about",component:M}),c.a.createElement(s.a,{path:"/",component:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"loading",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PRODUCT":return a.newProduct;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;return"SET_CATAGORY"===a.type?a.newCatagory:e},z=t(10),K=t(58),J=t(59),W=t.n(J),Z=t(60),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if("SET_USER"===a.type)return a.newUser;if("SET_CART"===a.type){if(e.cart){var t=Object(Z.a)(a.newCart);return Object(i.a)({},e,{cart:t})}return e}return e},G=Object(z.combineReducers)({products:H,catagories:Y,user:q}),Q=Object(z.createStore)(G,Object(K.composeWithDevTools)(Object(z.applyMiddleware)(W.a)));console.log("subscribe",Q.getState()),Q.subscribe((function(){console.log("subscribe",Q.getState())}));var V=Q;l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g.a,{store:V},c.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,a,t){e.exports=t(156)},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.80c87f00.chunk.js.map